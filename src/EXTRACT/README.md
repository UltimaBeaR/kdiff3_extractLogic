Сюда я пытаюсь вытащить все файлы, которые относятся к логике diff, merge, но не связаны c UI.

В consider я первым делом все вытаскиваю, что мне кажется относится к логике
В final вытаскиваю то что точно относится к логике и не тянет спорных зависимостей.

Весь код тут я сначала вытаскиваю из основной кодовой базы (просто выделяю из портянок кода) и затем делаю
возможно какой то структурный рефакторинг чтобы разрулить зависимости или абстрагироваться от UI/QT/KDE