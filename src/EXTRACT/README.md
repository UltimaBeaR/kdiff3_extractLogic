Сюда я пытаюсь вытащить все файлы, которые относятся к логике diff, merge, но не связаны c UI.

В consider я первым делом все вытаскиваю, что мне кажется относится к логике
В transitional переношу то что я как-то обработал или есть большая уверенность что это относится к логике, но возможно есть какие-то неразрешенные зависимости еще.
В final вытаскиваю то что точно относится к логике и не тянет спорных зависимостей. Тут то что я хорошо уже зарефакторил.

Весь код тут я сначала вытаскиваю из основной кодовой базы (просто выделяю из портянок кода) и затем делаю
возможно какой то структурный рефакторинг чтобы разрулить зависимости или абстрагироваться от UI/QT/KDE

Внутри могут быть подпапки ui - туда я ложу то что явно завязано на ui - если эти зависимости после полной переработки 
не получается убрать, значит они по сути тянутся из логики и нужно будет там сделать абстракцию вызовов этих ui мест и сделать инверсию зависимостей на какой то интерфейс
в дальнейшем этот интерфейс будут реализовывать те кто будет юзать либу - там не обязательно же UI будет а возможно другой тип взаимодействия.
Допустим из логики какой нибудь пикер файла будет вызван - это ui зависимость но если заменить его абстракцией то можно вместо пикера файла подсвоывать интерфейс который сразу выдает путь к файлу и все.
или дает способ выбрать файл без ui или ui будет реализован по-другому как то.